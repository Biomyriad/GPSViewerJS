import helmet from "helmet";
import { promisify } from "node:util";

//#region src/index.ts
function koaHelmet(...args) {
	const helmetPromise = promisify(helmet(...args));
	const middleware = (ctx, next) => helmetPromise(ctx.req, ctx.res).then(next);
	middleware._name = "helmet";
	return middleware;
}
for (const [key, method] of Object.entries(helmet)) {
	if (key === "default" || typeof method !== "function") continue;
	const koaMethod = (...args) => {
		const methodPromise = promisify(method(...args));
		const middleware = (ctx, next) => methodPromise(ctx.req, ctx.res).then(next);
		return middleware;
	};
	Object.assign(koaMethod, method);
	koaHelmet[key] = koaMethod;
}
var src_default = koaHelmet;

//#endregion
export { src_default as default };